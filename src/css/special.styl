@import 'mq'
@import 'functions'
@import 'keyframes'

colors = {
  //main: #4FB3D9,
  main: #FEEBEF,
  correct: #4CBC72,
  incorrect: #D95050,
  gray: #696969,
}

.sibur
  position: relative
  z-index: 99
  display: flex
  align-items: flex-start
  width: 1080px
  max-width: 100%
  min-height: 600px
  padding: 0 10px
  font-family: Roboto, sans-serif
  font-size: 16px
  line-height: normal
  text-size-adjust: 100%
  background-color: #fff
  overflow: hidden

  @media $mq.notMobile
    border-radius: 5px

    &.is-feed
      border-radius: 0

  &.is-result
    padding: 0
    align-items: center

    &.is-feed
      min-height: auto

  & *
  & *:before
  & *:after
    box-sizing: border-box

  svg
    display block
    fill currentColor
    pointer-events none

  & b
    font-weight: 700

  & button
    font-family: inherit
    outline: none
    cursor: pointer
    appearance: none

  &__question
    position: relative
    width: 400px
    max-width: 100%
    margin: 0 auto
    padding-top: 60px

  &__pages
    position: absolute
    z-index: 2
    top: 30px
    left: 0
    right: 0
    color: #F5CAD3
    text-align: center
    transform: translate3d(0,0,0)

  &__cards
    position: relative
    z-index: 3
    height: 416px

  &__next-cards
    position: absolute
    z-index: 1
    top: 100%
    left: 0
    right: 0

    & > div
      position: absolute
      left: 0
      right: 0
      margin: 0 auto
      width: 100%
      height: 416px
      border-radius: 15px
      background-color: colors.main
      box-shadow: 0 3px 3px rgba(0,0,0,.1)
      transform-origin : 50% 100%
      overflow: hidden

      ^[0].is-answered &
        background-color: #C4C4C4

      &:nth-child(1)
        z-index: 4
        bottom: 0
        transform: scale(.98)
        box-shadow: none

      &:nth-child(2)
        z-index: 3
        bottom: -5px
        transform: scale(.96)

      &:nth-child(3)
        z-index: 2
        bottom: -10px
        transform: scale(.92)

      &:nth-child(4)
        z-index: 1
        bottom: -15px
        transform: scale(.88)

  &__card-wrapper
    position: relative
    z-index: 2
    user-select: none
    perspective: 1000px

  &__card-inner
    position: relative
    width: 100%
    height: 416px
    transform-style: preserve-3d
    transform: translate3d(0,0,0)
    transition: transform .6s linear
    will-change: transform
    backface-visibility: hidden
    cursor: grab

  &-card
    position: absolute
    z-index: 1
    top: 0
    left: 0
    right: 0
    display: flex
    flex-direction column
    width: 100%
    height: 416px
    overflow: hidden
    border: 3px solid colors.main
    border-radius: 15px
    background-color: colors.main
    box-shadow: 0 2px 4px rgba(0,0,0,.15)
    user-select: none
    transform: translate3d(0,0,0)

    &--next
      filter: blur(6px)

    &--back
      box-shadow: none
      transform: translate3d(0,0,0) rotateY(180deg)

    ^[0].is-answered &
      border-color: #C4C4C4

    &.is-correct
      border-color: colors.correct !important
      background-color: colors.correct

    &.is-incorrect
      border-color: colors.incorrect !important
      background-color: colors.incorrect

    &__head
      flex-shrink: 0
      position: relative
      z-index: 1
      display: flex
      justify-content: center
      align-items: center
      height: 270px
      background-color: #fff
      transform: translate3d(0,0,0)

      ^[-1]--back &
        height: 170px

    &__bottom
      display: flex
      padding: 20px 22px 0
      height: 100%
      background-color: colors.main
      transform: translate3d(0,0,0)

      ^[0].is-answered &
        background-color: #C4C4C4

      ^[-1].is-correct &
        background-color: colors.correct

      ^[-1].is-incorrect &
        background-color: colors.incorrect

    &__img
      display: block
      max-width: none !important
      user-select: none
      user-drag: none
      pointer-events: none
      transform: translate3d(0,0,0)

    &__text
      font-size: 17px
      line-height: 1.4em

    &__answer-title
      color: #fff
      font-size: 22px
      font-weight: 500

    &__answer-text
      margin-top: 15px
      color: #fff
      font-size: 17px

      & a
        color: #fff !important
        border-bottom: 1px solid rgba(255,255,255,.8) !important

        &:hover
          opacity: .6

          @media $mq.notHover
            opacity: 1

  &__controls
    display: flex
    justify-content: center
    align-items: center
    margin-top: 30px

  &__option
    position: relative
    margin: 0 4px

  &__option-hint
    position: absolute
    top: 0
    bottom: 0
    display: flex
    align-items: center
    height: 36px
    margin: auto 0
    opacity: .5

    & > svg
      flex-shrink: 0
      width: 34px
      height: 36px
      margin: 0 auto

    & > div
      width: 120px
      font-size: 14px
      line-height: 16px
      text-align: center

    &--left
      right: calc(100% + 15px)

    &--right
      left: calc(100% + 15px)

  &__btn
    position: relative
    min-width: 120px
    height: 50px
    padding: 0 20px
    font-size: 20px
    border: 1px solid #E98499
    background-color: #fff
    user-select: none
    transition: box-shadow .2s

    & > svg
      position: absolute
      top: 0
      bottom: 0
      left: 0
      right: 0
      margin: auto
      width: 20px
      height: 20px
      fill: #CCCCCC
      transition: fill .2s

    &:hover
      box-shadow: 0 2px 4px rgba(0,0,0,.16)

      & > svg
        fill: #E5E5E5

      @media $mq.notHover
        box-shadow: none

        & > svg
          fill: #CCCCCC

  &-result
    width: 786px
    max-width: 100%
    margin: 0 auto

    &__head
      position: relative
      padding: 10px 15px
      background-color: colors.main
      overflow: hidden

      @media $mq.notMobile
        padding: 30px 38px

        ^[0].is-feed &
          padding: 16px 25px

      @media (min-width: 787px)
        border-radius: 10px

        ^[0].is-feed &
          border-radius: 0

    &__head-inner
      position: relative
      z-index: 1

    &__bottom
      position: relative
      margin-top: 15px
      padding: 10px 15px
      border: 1px solid colors.main
      background-color: #fff
      overflow: hidden

      ^[0].is-feed &
        padding: 4px 14px 16px
        border: none !important

      @media (min-width: 568px)
        padding: 20px 15px

        ^[0].is-feed &
          padding: 18px 14px 28px

      @media $mq.notMobile
        padding: 20px 36px

        ^[0].is-feed &
          padding: 18px 24px 28px

      @media (min-width: 787px)
        border-radius: 10px

        ^[0].is-feed &
          border-radius: 0

    &__img
      position: absolute
      right: 0
      bottom: 0
      display: block
      transform-origin: bottom right
      transform: scale(.4)

      @media $mq.iphone6
        transform: scale(.5)

      @media (min-width: 480px)
        transform: scale(.6)

      @media (min-width: 568px)
        transform: scale(.7)

      @media $mq.notMobile
        transform: scale(1)

      &[data-id="1"]
        bottom: 7%
        right: 5%

      &[data-id="3"]
        right: 4%

      &[data-id="4"]
        right: 7%

      &[data-id="5"]
        bottom: 10%
        right: 4%

    &__result
      font-size: 14px

    &__title
      margin-top: 10px
      font-size: 28px
      font-weight: 700
      line-height: 1.3em

      & i
        font-style: italic

    &__share
      margin-top: 35px

    &__restart-btn
      display: flex
      align-items: center
      margin-top: 10px
      font-size: 14px
      cursor: pointer
      transition: opacity .2s

      & svg
        margin-left: 8px

      &:hover
        opacity: .6

        @media $mq.notHover
          opacity: 1

    &__text-btn
      display: block
      width: 122px
      height: 32px
      margin-top: 28px
      color: #fff !important
      font-size: 14px
      font-weight: 700
      line-height: 32px
      text-align: center
      background-color: colors.main
      border: 0 !important
      transition opacity .2s

      &:hover
        opacity: .6

        @media $mq.notHover
          opacity: 1

    &__text-img
      display: none
      border: 0 !important
      transition: opacity .2s

      &:hover
        opacity: .6

        @media (hover none), (hover on-demand)
          opacity: 1

      & > img
        display: block
        margin: 0 auto
        width: 288px
        max-width: none !important

      @media (min-width: 568px)
        display: block
        position: absolute
        top: 10px
        left: 415px

      @media (min-width: 667px)
        left: 480px

        ^[0].is-feed &
          left: 455px

    &__text
      position: relative
      z-index: 1
      width: 400px
      max-width: 100%
      font-size: 14px
      line-height: 1.3em

      & p
        padding: 0
        margin: 0 !important
        font-size: inherit !important
        line-height: inherit !important

        &:not(:last-child)
          margin-bottom: .9em !important

      & ul
        margin: 0 !important
        list-style: none !important

        & li
          position: relative
          margin: 0 !important
          padding-left: 9px
          font-size: inherit !important
          line-height: 1.2em

        & li::before
          content: 'â€¢'
          position: absolute
          top: 0
          left: 0

        &:not(:last-child)
          margin-bottom: .9em !important


  &-help
    position: absolute
    z-index: 99
    top: 0
    bottom: 0
    left: 0
    right: 0
    width: 100%
    height: 100%
    display: flex
    justify-content: center
    align-items: center
    background-color: rgba(0,0,0,.8);

    &__inner
      display: flex
      flex-direction: column
      align-items: center
      max-width: 220px

    &__icon
      color: colors.main

    &__text
      margin-top: 20px
      color: #ffffff
      font-size: 18px
      font-weight: 700
      line-height: 21px

      & p
        padding 0
        margin 0 !important
        line-height inherit !important

        &:not(:last-child)
          margin-bottom: 20px !important

    &__btn
      width: 150px
      height: 50px
      padding: 0
      margin-top: 34px
      color: #fff
      font-size: 18px
      font-weight: 700
      border: none
      border-radius: 0
      background-color: colors.main

  .likely
    &--custom
      display: flex

    &__widget
      flex-shrink: 0
      display: flex
      align-items: center
      justify-content: center
      min-width: 58px
      height: 44px
      border: 1px solid currentColor
      background-color: transparent
      cursor: pointer

      &:not(:last-child)
        margin-right: 5px

      &:hover
        opacity: .6

      @media $mq.iphone6
        &:not(:last-child)
          margin-right: 10px

      @media $mq.notMobile
        &--facebook
          padding: 0 20px 0 8px

    &__counter
      display: none

    &__icon
      background-color: transparent

      & svg
        display: block
        width: 24px
        height: @width
        fill: currentColor

      &--vkontakte
        & svg
          width: 28px
          height: @width

      &--facebook

        @media $mq.notMobile
          margin-right: 6px

    &__button
      display: none
      line-height: 1

      @media $mq.notMobile
        display: block
