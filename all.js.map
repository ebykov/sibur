{"version":3,"sources":["webpack://Sibur/webpack/bootstrap","webpack://Sibur/./node_modules/cmtt-likely/source/config.js","webpack://Sibur/./node_modules/cmtt-likely/source/dom.js","webpack://Sibur/./node_modules/cmtt-likely/source/utils.js","webpack://Sibur/./src/js/lib/analytics.js","webpack://Sibur/./node_modules/cmtt-likely/source/services/index.js","webpack://Sibur/./src/config.js","webpack://Sibur/./src/js/lib/dom.js","webpack://Sibur/./src/js/lib/animate.js","webpack://Sibur/./node_modules/cmtt-likely/source/storage.js","webpack://Sibur/./src/index.js","webpack://Sibur/./src/js/special.js","webpack://Sibur/./src/js/base.js","webpack://Sibur/./src/js/data.js","webpack://Sibur/./src/js/svg.js","webpack://Sibur/./src/js/lib/array.js","webpack://Sibur/./src/js/lib/swipe.js","webpack://Sibur/./src/js/lib/share.js","webpack://Sibur/./node_modules/cmtt-likely/source/index.js","webpack://Sibur/./node_modules/cmtt-likely/source/widget.js","webpack://Sibur/./node_modules/cmtt-likely/source/button.js","webpack://Sibur/./node_modules/cmtt-likely/source/service.js","webpack://Sibur/./node_modules/cmtt-likely/source/services/odnoklassniki.js","webpack://Sibur/./node_modules/cmtt-likely/source/services/vk.js","webpack://Sibur/./node_modules/cmtt-likely/source/services/facebook.js","webpack://Sibur/./node_modules/cmtt-likely/source/services/twitter.js","webpack://Sibur/./node_modules/cmtt-likely/source/services/gplus.js","webpack://Sibur/./node_modules/cmtt-likely/source/services/pocket.js","webpack://Sibur/./node_modules/cmtt-likely/source/services/telegram.js","webpack://Sibur/./node_modules/cmtt-likely/source/services/whatsapp.js","webpack://Sibur/./node_modules/cmtt-likely/source/services/viber.js","webpack://Sibur/./node_modules/cmtt-likely/source/services/email.js","webpack://Sibur/./node_modules/cmtt-likely/source/services/more.js","webpack://Sibur/./node_modules/cmtt-likely/source/fetch.js","webpack://Sibur/./node_modules/cmtt-likely/source/factory.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","secure","window","location","protocol","prefix","storageKey","breakpoint","config","div","document","createElement","gid","dom","wrapSVG","coords","createNode","html","innerHTML","children","getScript","url","script","head","type","src","appendChild","removeChild","getJSON","callback","encodeURIComponent","replace","find","selector","node","querySelector","findAll","querySelectorAll","isMobile","matchMedia","matches","openPopup","winId","width","height","left","Math","round","screen","top","options","open","bool","yes","no","utils","each","toArray","arrayLike","Array","slice","merge","result","arguments","length","arg","extend","target","subject","flexboxSupport","element","f","fw","e","style","display","className","getDataset","dataset","attribute","attributes","toUpperCase","n0","charAt","test","substr","bools","data","template","text","makeUrl","query","filter","push","join","set","frags","split","last","forEach","index","sendEvent","label","action","undefined","Config","analyticsCategory","dataLayer","event","data_description","sendPageView","post_details","section","tags","title","pathname","Service","svg","services","odnoklassniki","vkontakte","facebook","twitter","gplus","pocket","telegram","whatsapp","viber","email","more","service","svgi","listenedEvents","makeElement","tagName","classNames","toLowerCase","attr","_typeof","cname","classList","add","dataAttributes","cacheElements","obj","newObj","elements","el","assign","getSiblings","siblings","sibling","parentNode","firstChild","nextSibling","nodeType","removeChildren","parent","removeElement","htmlStringToNode","prepend","insertBefore","isElementInDom","animate","elem","duration","delay","Promise","resolve","reject","_loop","addEventListener","func","j","currentTarget","removeEventListener","one","animationDuration","animationDelay","remove","requestAnimate","start","performance","now","requestAnimationFrame","time","timeFraction","progress","timing","draw","isAvailable","localStorage","setItem","removeItem","storage","getItem","item","JSON","parse","stringify","Special","_dom","_array","_animate","Analytics","Share","CSS","EL","IMAGES","params","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","saveParams","Data","keyUpHandler","css","loadStyles","then","init","BaseSpecial","_this2","q","pages","controls","optionL","optionR","nextBtn","textContent","click","answer","cards","nextCards","cardWrapper","cardInner","card","cHead","cBottom","cImg","cText","backCard","bcHead","bcBottom","bcAnswer","bcAnswerTitle","bcAnswerText","bcAnswerImg","navigator","userAgent","webkitBackfaceVisibility","_swipe2","default","rHead","rHeadInner","rBottom","rImg","rResult","rTitle","rShare","rRestartBtn","Svg","refresh","rText","rTextImg","href","img","img2x","rTextBtn","help","hInner","hIcon","swipe","hText","hBtn","nextCard","ncHead","ncBottom","ncText","ncImg","_this3","container","activeIndex","questions","makeNextCard","isAnswered","hint","swipeL","swipeR","onOptionLeave","id","shuffle","makeNextQuestion","innerWidth","onOptionHover","changeCardImages","initCardEvents","setInitialParams","_this4","animationClassName","lastAnsweredType","transform","srcset","question","showCount","trigger","makeAnswer","_this5","correct","correctAnswers","images","incorrect","timer","setTimeout","_Special$getResult","getResult","make","share","destroyCardEvents","keyCode","createElements","isFeed","loadImages","main","floor","random","results","keyCodes","enter","body","addEventListeners","path","link","rel","onload","onerror","eventName","defaultEventHandler","1x","2x","getMostFrequentValue","array","sort","a","b","v","pop","x","nodeList","shift","direction","firstX","currentX","down","eDown","closest","move","eMove","touches","clientX","opacity","ceil","offsetWidth","abs","toFixed","dir","up","eUp","Likely","initate","parentContainer","likelyContainer","social","button","likely","widget","update","defaults","initiate","widgets","counters","timeout","zeroes","wait","hash","Button","isSmartOrder","smart","countersLeft","buttons","number","reorder","savedServices","reverse","addButton","appear","ready","counterUrl","forceUpdate","updateCounter","counter","clearTimeout","fetch","htmlSpan","LikelyButton","detectService","detectParams","initHtml","initCounter","classes","parseInt","isNaN","counterNumber","content","icon","fullClass","counterElement","toggle","parentElement","popupUrl","rememberClicked","twitterText","twitterUrl","window_url","addAdditionalParamsToUrl","popupWidth","popupHeight","parameters","delimeter","indexOf","serviceIndex","splice","factory","self","count","convertNumber","promise","promises","share_count","Factory","factories","listeners","argument","listener"],"mappings":"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","file":"all.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","/**\r\n * Configuration\r\n */\r\n\r\nvar secure = window.location.protocol === 'https:';\r\n\r\nmodule.exports = {\r\n    name: 'likely',\r\n    prefix: 'likely__',\r\n    secure: secure,\r\n    protocol: secure ? 'https:' : 'http:',\r\n    storageKey: 'likelyServices',\r\n    breakpoint: 680\r\n};","var config = require('./config');\r\n\r\nvar div = document.createElement('div'),\r\n    gid = 0;\r\n\r\nvar dom = module.exports = {\r\n    /**\r\n     * Wrap SVG coords from data object into SVG tag\r\n     *\r\n     * @param {String} coords\r\n     */\r\n    wrapSVG: function (coords) {\r\n        return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" ' + 'viewBox=\"0 0 16 16\"><path d=\"M' + coords + 'z\"/></svg>';\r\n    },\r\n\r\n    /**\r\n     * Create node from HTML\r\n     *\r\n     * @param {String} html\r\n     */\r\n    createNode: function (html) {\r\n        div.innerHTML = html;\r\n\r\n        return div.children[0];\r\n    },\r\n\r\n    /**\r\n     * Load script\r\n     *\r\n     * @param {String} url\r\n     */\r\n    getScript: function (url) {\r\n        var script = document.createElement('script'),\r\n            head   = document.head;\r\n\r\n        script.type = 'text/javascript';\r\n        script.src  = url;\r\n\r\n        head.appendChild(script);\r\n        head.removeChild(script);\r\n    },\r\n\r\n    /**\r\n     * Get JSON\r\n     *\r\n     * @param {String} url\r\n     * @param {Function} callback\r\n     */\r\n    getJSON: function (url, callback) {\r\n        var name = encodeURIComponent('random_fun_' + (++gid));\r\n\r\n        url = url.replace(\r\n            /callback=(\\?)/,\r\n            'callback=' + name\r\n        );\r\n\r\n        window[name] = callback;\r\n\r\n        dom.getScript(url);\r\n    },\r\n\r\n    /**\r\n     * Find first node by selector\r\n     *\r\n     * @param {String} selector\r\n     * @param {Node} node\r\n     * @return {Node}\r\n     */\r\n    find: function (selector, node) {\r\n        return (node || document).querySelector(selector);\r\n    },\r\n\r\n    /**\r\n     * Find all nodes by selector\r\n     *\r\n     * @param {String} selector\r\n     * @param {Node} node\r\n     * @return {NodeList}\r\n     */\r\n    findAll: function (selector, node) {\r\n        return (node || document).querySelectorAll(selector);\r\n    },\r\n\r\n    /**\r\n     * Check mobile media query\r\n     */\r\n    isMobile: function() {\r\n        return !window.matchMedia('(min-width: ' + config.breakpoint + 'px)').matches;\r\n    },\r\n\r\n    /**\r\n     * Open the popup\r\n     *\r\n     * @param {String} url\r\n     * @param {String} winId\r\n     * @param {Number} width,\r\n     * @param {Number} height\r\n     */\r\n    openPopup: function (url, winId, width, height) {\r\n        var left = Math.round(screen.width / 2 - width / 2),\r\n            top  = 0;\r\n\r\n        if (screen.height > height) {\r\n            top = Math.round(screen.height / 3 - height / 2);\r\n        }\r\n\r\n        var options = 'left='    + left +\r\n                      ',top='    + top +\r\n                      ',width='  + width +\r\n                      ',height=' + height +\r\n                      ',personalbar=0,toolbar=0,scrollbars=1,resizable=1';\r\n\r\n        var win = window.open(url, winId, options);\r\n\r\n        // if (!win) {\r\n        //     location.href = url;\r\n        //     return location.href;\r\n        // }\r\n\r\n        // win.focus();\r\n\r\n        return win;\r\n    }\r\n};","var bool = {yes: true, no: false},\r\n    rUrl = /(https?|ftp):\\/\\/[^\\s\\/$.?#].[^\\s]*/gi;\r\n\r\n/**\r\n * @internal\r\n */\r\nvar utils = {\r\n    /**\r\n     * Simple $.each, only for objects\r\n     *\r\n     * @param {Object} object\r\n     * @param {Function} callback\r\n     */\r\n    each: function (object, callback) {\r\n        for (var key in object) {\r\n            if (object.hasOwnProperty(key)) {\r\n                callback(object[key], key);\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Convert array-like object to array\r\n     *\r\n     * @param {Object} arrayLike\r\n     * @return {Array}\r\n     */\r\n    toArray: function (arrayLike) {\r\n        return Array.prototype.slice.call(arrayLike);\r\n    },\r\n\r\n    /**\r\n     * Merge given dictionaries (objects) into one object\r\n     *\r\n     * @param {Object} ...objects\r\n     * @return {Object}\r\n     */\r\n    merge: function () {\r\n        var result = {};\r\n\r\n        for (var i = 0; i < arguments.length; i ++) {\r\n            var arg = arguments[i];\r\n\r\n            if (arg) {\r\n                for (var key in arg) {\r\n                    result[key] = arg[key];\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * Extend one (target) object by other (subject)\r\n     *\r\n     * @param {Object} target\r\n     * @param {Object} subject\r\n     */\r\n    extend: function (target, subject) {\r\n        for (var key in subject) {\r\n            target[key] = subject[key];\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Check new flexbox syntax support\r\n     */\r\n    flexboxSupport: function(element, name){\r\n        var d = document, f = 'flex', fw = '-webkit-'+f, e = d.createElement('b'), c;\r\n\r\n        try {\r\n            e.style.display = fw;\r\n            e.style.display = f;\r\n            c = (e.style.display == f || e.style.display == fw) ? f : 'no-'+f;\r\n        } catch(e) {\r\n            c = 'no-'+f;\r\n        }\r\n\r\n        element.className += ' ' + name + '--' + c;\r\n    },\r\n\r\n    /**\r\n     * Return node.dataset or plain object for IE 10without setters\r\n     * based on https://gist.github.com/brettz9/4093766#file_html5_dataset.js\r\n     *\r\n     * @param {Node} node\r\n     * @return {Object}\r\n     */\r\n    getDataset: function (node) {\r\n        if (typeof node.dataset === 'object') {\r\n            return node.dataset;\r\n        }\r\n\r\n        var i,\r\n            dataset = {},\r\n            attributes = node.attributes,\r\n            attribute,\r\n            attributeName;\r\n\r\n        var toUpperCase = function (n0) {\r\n            return n0.charAt(1).toUpperCase();\r\n        };\r\n\r\n        for (i = attributes.length - 1; i >= 0; i--) {\r\n            attribute = attributes[i];\r\n            if (attribute && attribute.name &&\r\n                (/^data-\\w[\\w\\-]*$/).test(attribute.name)) {\r\n                    attributeName = attribute.name.substr(5).replace(/-./g, toUpperCase);\r\n                    dataset[attributeName] = attribute.value;\r\n                }\r\n        }\r\n\r\n        return dataset;\r\n    },\r\n\r\n    /**\r\n     * Convert \"yes\" and \"no\" to true and false.\r\n     *\r\n     * @param {Node} node\r\n     */\r\n    bools: function (node) {\r\n        var result = {},\r\n            data   = utils.getDataset(node);\r\n\r\n        for (var key in data) {\r\n            var value = data[key];\r\n\r\n            result[key] = bool[value] || value;\r\n        }\r\n\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * Map object keys in string to its values\r\n     *\r\n     * @param {String} text\r\n     * @param {Object} data\r\n     * @return {String}\r\n     */\r\n    template: function (text, data) {\r\n        return !text ? '' : text.replace(/\\{([^\\}]+)\\}/g, function (value, key) {\r\n            return key in data ? data[key] : value;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * Map object keys in URL to its values\r\n     *\r\n     * @param {String} text\r\n     * @param {Object} data\r\n     * @return {String}\r\n     */\r\n    makeUrl: function (text, data) {\r\n        for (var key in data) {\r\n            data[key] = encodeURIComponent(data[key]);\r\n        }\r\n\r\n        return utils.template(text, data);\r\n    },\r\n\r\n    /**\r\n     * Create query string out of data\r\n     *\r\n     * @param {Object} data\r\n     * @return {String}\r\n     */\r\n    query: function (data) {\r\n        var filter = encodeURIComponent,\r\n            query  = [];\r\n\r\n        for (var key in data) {\r\n            if (typeof data[key] === 'object') continue;\r\n\r\n            query.push(filter(key) + '=' + filter(data[key]));\r\n        }\r\n\r\n        return query.join('&');\r\n    },\r\n\r\n    /**\r\n     * Set value in object using dot-notation\r\n     *\r\n     * @param {Object} object\r\n     * @param {String} key\r\n     * @param {Object} value\r\n     */\r\n    set: function (object, key, value) {\r\n        var frags = key.split('.'),\r\n            last  = null;\r\n\r\n        frags.forEach(function (key, index) {\r\n            if (typeof object[key] === 'undefined') {\r\n                object[key] = {};\r\n            }\r\n\r\n            if (index !== frags.length - 1) {\r\n                object = object[key];\r\n            }\r\n\r\n            last = key;\r\n        });\r\n\r\n        object[last] = value;\r\n    }\r\n};\r\n\r\nmodule.exports = utils;","import Config from './../../config';\n\nconst CONSOLE_STYLE = 'color: #E87E04';\n\n/**\n * Send analytics events via GTM\n * @param {String} label - event label\n * @param {String} action - event action (\"Click\" by default)\n */\nexport const sendEvent = (label, action = 'Click') => {\n    let value = `${Config.analyticsCategory} — ${label} — ${action}`;\n\n    if (!IS_PRODUCTION) {\n        console.log(`Analytics: %c${value}`, CONSOLE_STYLE);\n    }\n\n    if (window.dataLayer !== undefined && Config.analyticsCategory) {\n        window.dataLayer.push({\n            event: 'data_event',\n            data_description: value\n        });\n    }\n};\n\n/**\n * Send pageview event via GTM\n */\nexport const sendPageView = () => {\n    if (!IS_PRODUCTION) {\n        console.log('Analytics: %cPage — View', CONSOLE_STYLE);\n    }\n\n    if (window.dataLayer !== undefined) {\n        window.dataLayer.push({\n            event: 'Page — View',\n            post_details: {},\n            section: 'special',\n            tags: [],\n            title: document.title,\n            url: window.location.pathname\n        });\n    }\n};","/**\r\n * Social network services\r\n */\r\n\r\nvar Service = require('../service'),\r\n    utils   = require('../utils'),\r\n    svg     = require('../svg.json');\r\n\r\nvar services = {\r\n    odnoklassniki: require('./odnoklassniki'),\r\n    vkontakte:     require('./vk'),\r\n    facebook:      require('./facebook'),\r\n    twitter:       require('./twitter'),\r\n    gplus:         require('./gplus'),\r\n    pocket:        require('./pocket'),\r\n    telegram:      require('./telegram'),\r\n    whatsapp:      require('./whatsapp'),\r\n    viber:         require('./viber'),\r\n    email:         require('./email'),\r\n    more:          require('./more')\r\n};\r\n\r\nutils.each(services, function (service, key) {\r\n    Service(service);\r\n\r\n    service.svgi = svg[key];\r\n    service.name = key;\r\n});\r\n\r\nmodule.exports = services;","export default {\n  name: 'Sibur', // уникальное имя спецпроекта. Оно же — название главного класса. Используется на странице, куда интегрируется спецпроект\n  analyticsCategory: 'Sibur',\n  sendPageView: false, // отключаем, если спецпроект не на отдельной странице\n  listenedEvents: ['click'], // слушаем события (click, input, change, etc.). Обычно нужен только click\n};\n","/**\n * Make html element\n * @param {String} tagName\n * @param {Array|String} classNames - array of classnames or string for single classname\n * @param {Object} attributes - object with html attributes\n */\nexport const makeElement = (tagName, classNames = [], attributes = []) => {\n    tagName = tagName.toLowerCase();\n\n    let element = document.createElement(tagName);\n\n    if (classNames) {\n        if (typeof classNames === 'object') {\n            classNames.forEach(cname => {\n                element.classList.add(cname);\n            });\n        } else if (typeof classNames === 'string') {\n            element.classList.add(classNames);\n        }\n    }\n\n    for (let attr in attributes) {\n        if (attr === 'data') {\n            let dataAttributes = attributes[attr];\n\n            for (let attr in dataAttributes) {\n                element.dataset[attr] = dataAttributes[attr];\n            }\n        } else {\n            element[attr] = attributes[attr];\n        }\n    }\n\n    return element;\n};\n\n/**\n * Cache elements with [data-view] attribute and put them in given object\n * @param {Object} obj - object\n */\nexport const cacheElements = (obj, attr = 'view') => {\n    let newObj = {},\n        elements = document.querySelectorAll(`[data-${attr}]`);\n\n    Array.prototype.forEach.call(elements, el => {\n        let name = el.dataset[attr];\n        newObj[name] = el;\n    });\n\n    Object.assign(obj, newObj);\n};\n\n/**\n * Get all siblings of specified element, excluding this element\n * @param {Element} element\n */\nexport const getSiblings = (element) => {\n    let siblings = [],\n        sibling = element.parentNode.firstChild;\n\n    for (; sibling; sibling = sibling.nextSibling) {\n        if (sibling.nodeType !== 1 || sibling === element) continue;\n        siblings.push(sibling);\n    }\n\n    return siblings;\n};\n\n/**\n * Remove all children from element\n * @param {Element} parent\n */\nexport const removeChildren = (parent) => {\n    while (parent.firstChild) {\n        parent.removeChild(parent.firstChild);\n    }\n};\n\n/**\n * Remove specified element from its parent\n * @param {Element} element\n */\nexport const removeElement = (element) => {\n    if (element) {\n        element.parentNode.removeChild(element);\n    }\n};\n\n/**\n * Transform html string to node\n * @param {String} html\n */\nexport const htmlStringToNode = (html) => {\n    let el = document.createElement('div');\n\n    el.innerHTML = html;\n\n    return el.firstChild;\n};\n\n/**\n * Prepend source element before first child of target element\n * @param {Element} parent\n * @param {Element} el\n */\nexport const prepend = (parent, el) => {\n    parent.insertBefore(el, parent.firstChild);\n};\n\n/** Quick check if element is in DOM */\nexport const isElementInDom = (el) => {\n    return el.parentNode;\n};","function requestAnimate(options) {\n\n  var start = performance.now();\n\n  requestAnimationFrame(function animate(time) {\n    var timeFraction = (time - start) / options.duration;\n    if (timeFraction > 1) timeFraction = 1;\n\n    var progress = options.timing(timeFraction)\n\n    options.draw(progress);\n\n    if (timeFraction < 1) {\n      requestAnimationFrame(animate);\n    }\n\n  });\n}\n\nfunction one (node, type, callback) {\n    type = type.split(' ');\n    for (let i = 0; i < type.length; i++) {\n        let func = function (e) {\n            for (let j = 0; j < type.length; j++) {\n                e.currentTarget.removeEventListener(type[j], func);\n            }\n            return callback(e)\n        }\n        node.addEventListener(type[i], func, false);\n    }\n}\n\nfunction animate(elem, className, duration = false, delay = false) {\n    return new Promise((resolve, reject) => {\n        one(elem, 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', () => {\n            if (duration) { elem.style.animationDuration = ''; }\n            if (delay) { elem.style.animationDelay = ''; }\n            elem.classList.remove(className);\n            elem.classList.remove('animated');\n\n            resolve();\n        });\n\n        if (duration) { elem.style.animationDuration = duration; }\n        if (delay) { elem.style.animationDelay = delay; }\n\n        elem.classList.add(className);\n        elem.classList.add('animated');\n    });\n}\n\nexport {\n    animate,\n    requestAnimate\n}","var isAvailable = function() {\r\n\r\n    try {\r\n        window.localStorage.setItem('isStorageAvailable', 1);\r\n        window.localStorage.removeItem('isStorageAvailable');\r\n        return true;\r\n    } catch (e) {\r\n        return false;\r\n    }\r\n\r\n};\r\n\r\nvar storage = {\r\n\r\n    /**\r\n     * Get item from localStorage\r\n     * @param {String} key\r\n     */\r\n    getItem: function(key){\r\n\r\n        if (isAvailable()) {\r\n\r\n            var item = window.localStorage.getItem(key);\r\n\r\n            try {\r\n                JSON.parse(item);\r\n            } catch (e) {\r\n                return item;\r\n            }\r\n\r\n            return JSON.parse(item);\r\n\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * Save item in localStorage\r\n     * @param {String} key\r\n     * @param {String} value\r\n     */\r\n    setItem: function(key, value) {\r\n\r\n        value = (typeof value === 'string') ? value : JSON.stringify(value);\r\n\r\n        if (isAvailable()) {\r\n            window.localStorage.setItem(key, value);\r\n        }\r\n\r\n    },\r\n\r\n    /**\r\n     * Remove item from localStorage\r\n     * @param {String} key\r\n     */\r\n    removeItem: function(key) {\r\n\r\n        if (isAvailable()) {\r\n            window.localStorage.removeItem(key);\r\n        }\r\n\r\n    }\r\n\r\n};\r\n\r\nmodule.exports = storage;","/**\n * Entry point\n */\nimport Special from './js/special';\n\nmodule.exports.Special = Special;\n","import '../css/special.styl';\n\nimport BaseSpecial from './base';\nimport Data from './data';\nimport Svg from './svg';\nimport { makeElement, removeChildren } from './lib/dom';\nimport { shuffle } from './lib/array';\nimport { animate } from './lib/animate';\nimport makeSwipeable from './lib/swipe';\nimport * as Analytics from './lib/analytics';\nimport * as Share from './lib/share';\n\nconst CSS = {\n  main: 'sibur',\n};\n\nconst EL = {};\nconst IMAGES = {};\n\nclass Special extends BaseSpecial {\n  constructor(params = {}) {\n    super();\n\n    Object.assign(this.params, params);\n    this.saveParams();\n\n    if (Data && params.data) {\n      Object.assign(Data, params.data);\n    }\n\n    this.keyUpHandler = this.keyUpHandler.bind(this);\n\n    if (this.params.css) {\n      this.loadStyles(this.params.css).then(() => this.init());\n    } else {\n      this.init();\n    }\n  }\n\n  createElements() {\n    EL.q = makeElement('div', `${CSS.main}__question`);\n    EL.pages = makeElement('div', `${CSS.main}__pages`);\n\n    EL.controls = makeElement('div', `${CSS.main}__controls`);\n    EL.optionL = makeElement('div', `${CSS.main}__option`, {\n      innerHTML: `<button class=\"${CSS.main}__btn\">Фантастика</button>`,\n      data: {\n        type: 'left',\n      },\n    });\n    EL.optionR = makeElement('div', `${CSS.main}__option`, {\n      innerHTML: `<button class=\"${CSS.main}__btn\">Реальность</button>`,\n      data: {\n        type: 'right',\n      },\n    });\n\n    EL.nextBtn = makeElement('button', `${CSS.main}__btn`, {\n      textContent: 'Далее',\n      data: {\n        click: 'continue',\n      },\n    });\n\n    EL.optionL.addEventListener('click', () => { this.answer('left'); });\n    EL.optionR.addEventListener('click', () => { this.answer('right'); });\n\n    EL.cards = makeElement('div', `${CSS.main}__cards`);\n    EL.nextCards = makeElement('div', `${CSS.main}__next-cards`);\n\n    EL.cardWrapper = makeElement('div', `${CSS.main}__card-wrapper`);\n    EL.cardInner = makeElement('div', `${CSS.main}__card-inner`);\n\n    EL.card = makeElement('div', `${CSS.main}-card`);\n    EL.cHead = makeElement('div', `${CSS.main}-card__head`);\n    EL.cBottom = makeElement('div', `${CSS.main}-card__bottom`);\n    EL.cImg = makeElement('img', `${CSS.main}-card__img`);\n    EL.cText = makeElement('div', `${CSS.main}-card__text`);\n\n    EL.cHead.appendChild(EL.cImg);\n    EL.cBottom.appendChild(EL.cText);\n\n    EL.card.appendChild(EL.cHead);\n    EL.card.appendChild(EL.cBottom);\n\n    EL.backCard = makeElement('div', [`${CSS.main}-card`, `${CSS.main}-card--back`]);\n    EL.bcHead = makeElement('div', `${CSS.main}-card__head`);\n    EL.bcBottom = makeElement('div', `${CSS.main}-card__bottom`);\n    EL.bcAnswer = makeElement('div', `${CSS.main}-card__answer`);\n    EL.bcAnswerTitle = makeElement('div', `${CSS.main}-card__answer-title`);\n    EL.bcAnswerText = makeElement('div', `${CSS.main}-card__answer-text`);\n    EL.bcAnswerImg = makeElement('img', `${CSS.main}-card__img`);\n\n    EL.bcAnswer.appendChild(EL.bcAnswerTitle);\n    EL.bcAnswer.appendChild(EL.bcAnswerText);\n\n    EL.bcHead.appendChild(EL.bcAnswerImg);\n    EL.bcBottom.appendChild(EL.bcAnswer);\n\n    EL.backCard.appendChild(EL.bcHead);\n    EL.backCard.appendChild(EL.bcBottom);\n\n    EL.cardInner.appendChild(EL.card);\n    EL.cardInner.appendChild(EL.backCard);\n\n    EL.cardWrapper.appendChild(EL.cardInner);\n\n    EL.cards.appendChild(EL.nextCards);\n    EL.cards.appendChild(EL.cardWrapper);\n\n    if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent) || /firefox/i.test(navigator.userAgent)) {\n      EL.card.style.webkitBackfaceVisibility = 'hidden';\n      EL.backCard.style.webkitBackfaceVisibility = 'hidden';\n    }\n\n    EL.q.appendChild(EL.pages);\n    EL.q.appendChild(EL.cards);\n    EL.q.appendChild(EL.controls);\n\n    makeSwipeable(EL.cardWrapper, (t) => {\n      this.answer(t, 'Swipe');\n    });\n\n    EL.result = makeElement('div', `${CSS.main}-result`);\n    EL.rHead = makeElement('div', `${CSS.main}-result__head`);\n    EL.rHeadInner = makeElement('div', `${CSS.main}-result__head-inner`);\n    EL.rBottom = makeElement('div', `${CSS.main}-result__bottom`);\n    EL.rImg = makeElement('img', `${CSS.main}-result__img`);\n    EL.rResult = makeElement('div', `${CSS.main}-result__result`);\n    EL.rTitle = makeElement('div', `${CSS.main}-result__title`);\n    EL.rShare = makeElement('div', `${CSS.main}-result__share`);\n    EL.rRestartBtn = makeElement('div', `${CSS.main}-result__restart-btn`, {\n      innerHTML: `<span>Пройти еще раз</span>${Svg.refresh}`,\n      data: {\n        click: 'restart',\n      },\n    });\n    EL.rText = makeElement('div', `${CSS.main}-result__text`, {\n      innerHTML: Data.result.text,\n    });\n    EL.rTextImg = makeElement('a', `${CSS.main}-result__text-img`, {\n      href: 'https://www.open.ru/cards/opencard?&utm_source=tj_test_ag2_image&utm_medium=fix&utm_content=card&utm_campaign=itogi_goda_komitet_ag2_image',\n      target: '_blank',\n      innerHTML: `<img src=\"${Data.result.img}\" srcset=\"${Data.result.img2x} 2x\">`,\n    });\n    EL.rTextBtn = makeElement('a', `${CSS.main}-result__text-btn`, {\n      textContent: 'Уточнить',\n      href: 'https://www.open.ru/cards/opencard?&utm_source=tj_test_ag2_image&utm_medium=fix&utm_content=card&utm_campaign=itogi_goda_komitet_ag2_image',\n      target: '_blank',\n    });\n\n    EL.rHeadInner.appendChild(EL.rResult);\n    // EL.rHeadInner.appendChild(EL.rTitle);\n    EL.rHeadInner.appendChild(EL.rShare);\n    EL.rHeadInner.appendChild(EL.rRestartBtn);\n\n    // EL.rHead.appendChild(EL.rImg);\n    EL.rHead.appendChild(EL.rHeadInner);\n    // EL.rBottom.appendChild(EL.rTextImg);\n    // EL.rBottom.appendChild(EL.rText);\n    // EL.rBottom.appendChild(EL.rTextBtn);\n\n    EL.result.appendChild(EL.rHead);\n    // EL.result.appendChild(EL.rBottom);\n\n    EL.help = makeElement('div', `${CSS.main}-help`);\n    EL.hInner = makeElement('div', `${CSS.main}-help__inner`);\n    EL.hIcon = makeElement('div', `${CSS.main}-help__icon`, {\n      innerHTML: Svg.swipe,\n    });\n    EL.hText = makeElement('div', `${CSS.main}-help__text`, {\n      innerHTML: '<p>Свайпайте карточку вправо, если считаете, что правильный ответ «да».</p><p>Влево — если «нет».</p>',\n    });\n    EL.hBtn = makeElement('button', `${CSS.main}-help__btn`, {\n      textContent: 'Понятно',\n      data: {\n        click: 'hideHelp',\n      },\n    });\n\n    EL.hInner.appendChild(EL.hIcon);\n    EL.hInner.appendChild(EL.hText);\n    EL.hInner.appendChild(EL.hBtn);\n\n    EL.help.appendChild(EL.hInner);\n\n    EL.nextCard = makeElement('div', [`${CSS.main}-card`, `${CSS.main}-card--next`]);\n    EL.ncHead = makeElement('div', `${CSS.main}-card__head`);\n    EL.ncBottom = makeElement('div', `${CSS.main}-card__bottom`);\n    EL.ncText = makeElement('div', `${CSS.main}-card__text`);\n    EL.ncImg = makeElement('img', `${CSS.main}-card__img`);\n\n    EL.ncHead.appendChild(EL.ncImg);\n    EL.ncBottom.appendChild(EL.ncText);\n    EL.nextCard.appendChild(EL.ncHead);\n    EL.nextCard.appendChild(EL.ncBottom);\n  }\n\n  hideHelp() {\n    animate(EL.help, 'fadeOut', '200ms').then(() => {\n      this.container.removeChild(EL.help);\n    });\n  }\n\n  static makeNextCard(index) {\n    const q = Data.questions[index];\n\n    EL.ncText.innerHTML = q.text;\n    EL.ncImg.src = q.images.main['1x'];\n    EL.ncImg.srcset = `${q.images.main['2x']} 2x`;\n\n    return EL.nextCard;\n  }\n\n  static changeCardImages(index) {\n    const q = Data.questions[index];\n\n    EL.cImg.src = q.images.main['1x'];\n    EL.cImg.srcset = `${q.images.main['2x']} 2x`;\n  }\n\n  showCount() {\n    const index = this.activeIndex + 1;\n    removeChildren(EL.nextCards);\n\n    if (index === Data.questions.length) {\n      return;\n    }\n\n    const nextCard = Special.makeNextCard(index);\n\n    if (index === Data.questions.length - 1) {\n      EL.nextCards.innerHTML = '<div></div>';\n      EL.nextCards.firstChild.appendChild(nextCard);\n    } else if (index > Data.questions.length / 2) {\n      EL.nextCards.innerHTML = '<div></div><div></div>';\n      EL.nextCards.firstChild.appendChild(nextCard);\n    } else if (index > Data.questions.length / 4) {\n      EL.nextCards.innerHTML = '<div></div><div></div><div></div>';\n      EL.nextCards.firstChild.appendChild(nextCard);\n    } else {\n      EL.nextCards.innerHTML = '<div></div><div></div><div></div><div></div>';\n      EL.nextCards.firstChild.appendChild(nextCard);\n    }\n  }\n\n  static getResult() {\n    const index = Math.floor(Math.random() * Data.results.length);\n    const result = Data.results[index];\n\n    return { result, index };\n  }\n\n  onOptionHover(e) {\n    if (this.isAnswered || this.activeIndex > 0) return;\n\n    const el = e.currentTarget;\n    const t = el.dataset.type;\n    const hint = makeElement('div', [`${CSS.main}__option-hint`, `${CSS.main}__option-hint--${t}`], {\n      innerHTML: t === 'left' ? `<div>Или свайпни карточку влево</div>${Svg.swipeL}` : `${Svg.swipeR}<div>Или свайпни карточку вправо</div>`,\n    });\n\n    el.appendChild(hint);\n\n    const onOptionLeave = () => {\n      el.removeEventListener('mouseout', onOptionLeave);\n      el.removeEventListener('click', onOptionLeave);\n      el.removeChild(hint);\n    };\n    el.addEventListener('mouseout', onOptionLeave);\n    el.addEventListener('click', onOptionLeave);\n  }\n\n  start() {\n    Data.questions.forEach((q, i) => {\n      Data.questions[i].id = i;\n    });\n    shuffle(Data.questions);\n\n    this.makeNextQuestion();\n\n    if (/Mobi|Android/i.test(navigator.userAgent) || window.innerWidth <= 768) {\n      this.container.appendChild(EL.help);\n      animate(EL.help, 'fadeIn', '200ms', '400ms');\n    } else {\n      EL.optionL.addEventListener('mouseover', this.onOptionHover.bind(this));\n      EL.optionR.addEventListener('mouseover', this.onOptionHover.bind(this));\n    }\n\n    Special.changeCardImages(this.activeIndex);\n\n    this.initCardEvents();\n\n    Analytics.sendEvent('Start', 'Show');\n  }\n\n  restart() {\n    shuffle(Data.questions);\n\n    this.container.classList.remove('is-result');\n    this.container.removeChild(EL.result);\n    this.container.appendChild(EL.q);\n\n    EL.nextBtn.textContent = 'Далее';\n    EL.nextBtn.dataset.click = 'continue';\n\n    this.setInitialParams();\n    this.initCardEvents();\n\n    Special.changeCardImages(this.activeIndex);\n\n    this.makeNextQuestion();\n  }\n\n  continue() {\n    this.activeIndex += 1;\n\n    const animationClassName = this.lastAnsweredType === 'left' ? 'fadeOutLeft' : 'fadeOutRight';\n\n    animate(EL.cardWrapper, animationClassName).then(() => {\n      this.container.classList.remove('is-answered');\n\n      EL.cards.removeChild(EL.cardWrapper);\n      EL.cardInner.style.transform = '';\n\n      EL.backCard.classList.remove('is-correct');\n      EL.backCard.classList.remove('is-incorrect');\n      EL.bcAnswerImg.src = '';\n      EL.bcAnswerImg.srcset = '';\n\n      this.makeNextQuestion();\n    });\n\n    Analytics.sendEvent('Next');\n  }\n\n  makeNextQuestion() {\n    const question = Data.questions[this.activeIndex];\n\n    this.isAnswered = false;\n\n    removeChildren(EL.controls);\n    EL.controls.appendChild(EL.optionL);\n    EL.controls.appendChild(EL.optionR);\n\n    EL.pages.innerHTML = `${this.activeIndex + 1}/${Data.questions.length}`;\n\n    EL.cText.innerHTML = question.text;\n    // EL.cTextTo.innerHTML = `На <b>${question.to.text}?</b>`;\n\n    this.showCount();\n\n    EL.cards.appendChild(EL.cardWrapper);\n    animate(EL.cardWrapper, 'cardZoomIn', '300ms');\n  }\n\n  answer(t, trigger = 'Click') {\n    if (this.isAnswered) { return; }\n    this.isAnswered = true;\n\n    const question = Data.questions[this.activeIndex];\n\n    this.lastAnsweredType = t;\n\n    this.makeAnswer(question, t);\n\n    Analytics.sendEvent(`Option - ${t}`, trigger);\n  }\n\n  makeAnswer(question, type) {\n    this.container.classList.add('is-answered');\n\n    EL.cardInner.style.transform = 'translate3d(0,0,0) rotateY(-180deg)';\n\n    removeChildren(EL.controls);\n    EL.controls.appendChild(EL.nextBtn);\n\n    if (question.correct === type) {\n      this.correctAnswers += 1;\n      EL.backCard.classList.add('is-correct');\n      EL.bcAnswerImg.src = question.images.correct['1x'];\n      EL.bcAnswerImg.srcset = `${question.images.correct['2x']} 2x`;\n      EL.bcAnswerTitle.textContent = 'Да';\n    } else {\n      EL.backCard.classList.add('is-incorrect');\n      EL.bcAnswerImg.src = question.images.incorrect['1x'];\n      EL.bcAnswerImg.srcset = `${question.images.incorrect['2x']} 2x`;\n      EL.bcAnswerTitle.textContent = 'Нет';\n    }\n\n    EL.bcAnswerText.innerHTML = question.answer;\n\n    if (this.activeIndex < Data.questions.length - 1) {\n      this.timer = setTimeout(() => {\n        Special.changeCardImages(this.activeIndex + 1);\n      }, 400);\n    }\n\n    if (this.activeIndex === Data.questions.length - 1) {\n      EL.nextBtn.innerHTML = 'Результат';\n      EL.nextBtn.dataset.click = 'result';\n    }\n  }\n\n  result() {\n    const { result, index } = Special.getResult(this.correctAnswers);\n\n    EL.cards.removeChild(EL.cardWrapper);\n    EL.cardInner.style.transform = '';\n\n    EL.backCard.classList.remove('is-correct');\n    EL.backCard.classList.remove('is-incorrect');\n    EL.bcAnswerImg.src = '';\n    EL.bcAnswerImg.srcset = '';\n\n    this.container.classList.remove('is-answered');\n    this.container.classList.add('is-result');\n    this.container.removeChild(EL.q);\n    this.container.appendChild(EL.result);\n\n    EL.rResult.innerHTML = `${this.correctAnswers} из ${Data.questions.length} правильных ответов`;\n    EL.rTitle.innerHTML = result.title;\n    EL.rImg.dataset.id = index + 1;\n    EL.rImg.src = result.img;\n    EL.rImg.srcset = `${result.img2x} 2x`;\n\n    removeChildren(EL.rShare);\n    Share.make(EL.rShare, {\n      url: `${this.params.share.url}/${index}`,\n      title: `${this.correctAnswers} из ${Data.questions.length} правильных ответов`,\n      twitter: `${this.correctAnswers} из ${Data.questions.length} правильных ответов`,\n    });\n\n    this.destroyCardEvents();\n\n    Analytics.sendEvent('Result');\n  }\n\n  setInitialParams() {\n    this.activeIndex = 0;\n    this.correctAnswers = 0;\n  }\n\n  keyUpHandler(e) {\n    if (e.keyCode === 37 || e.keyCode === 39) {\n      this.answer(e.keyCode === 37 ? 'left' : 'right', 'KeyUp');\n    }\n  }\n\n  initCardEvents() {\n    document.addEventListener('keyup', this.keyUpHandler);\n  }\n\n  destroyCardEvents() {\n    document.removeEventListener('keyup', this.keyUpHandler);\n  }\n\n  static loadImages() {\n    Data.questions.forEach((q, i) => {\n      IMAGES[i] = makeElement('img', null, {\n        src: q.answer.img,\n        srcset: `${q.answer.img} 2x`,\n      });\n    });\n  }\n\n  init() {\n    this.setInitialParams();\n    this.createElements();\n    removeChildren(this.container);\n    this.container.appendChild(EL.q);\n\n    this.params.isFeed ? this.container.classList.add('is-feed') : '';\n\n    Special.loadImages();\n\n    this.start();\n  }\n}\n\nexport default Special;\n","import Config from './../config';\nimport * as Analytics from './lib/analytics';\n\n/**\n * Base special constructor with common methods\n */\nclass BaseSpecial {\n\n    constructor() {\n        this.keyCodes = {\n            enter: 13\n        };\n        this.params = {\n            container: document.body\n        };\n\n        if (Config.sendPageView) {\n            Analytics.sendPageView();\n        }\n    }\n\n    /**\n     * Save custom params\n     * @param {Object} params - params object with custom values\n     */\n    saveParams() {\n        Object.assign(this.params, Config);\n        this.container = this.params.container;\n\n        this.addEventListeners();\n    }\n\n    /**\n     * Load css file\n     * @param {String} path\n     */\n    loadStyles(path) {\n        return new Promise((resolve, reject) => {\n            let link = document.createElement('link');\n\n            link.rel = 'stylesheet';\n            link.href = path;\n\n            link.onload = () => resolve();\n            link.onerror = () => reject();\n\n            document.body.appendChild(link);\n        });\n    }\n\n    /**\n     * Add event listeners to document\n     */\n    addEventListeners() {\n        this.params.listenedEvents.forEach(eventName => {\n            this.container.addEventListener(eventName, event => this.defaultEventHandler(event, eventName));\n        });\n    }\n\n    /**\n     * Default events handler\n     * @param {Object} event\n     * @param {String} eventName\n     */\n    defaultEventHandler(event, eventName) {\n        let target = event.target;\n        let action;\n\n        while (target.parentNode && target !== event.currentTarget) {\n            action = target.dataset[eventName];\n\n            /** Send all links clicks to analytics */\n            if (eventName === 'click' && target.tagName.toLowerCase() === 'a') {\n                Analytics.sendEvent(target.href);\n            }\n\n            if (action) break;\n            target = target.parentNode;\n        }\n\n        action = target.dataset[eventName];\n\n        if (action && this[action]) {\n            this[action](event.target, event);\n        }\n    }\n\n}\n\nexport default BaseSpecial;","export default {\n  title: '',\n  questions: [{\n    text: 'Робот, который изучает эмоции на основе фильма. Копирует поведение героев и, например, учится держаться за руки.',\n    images: {\n      main: {\n        '1x': 'https://leonardo.osnova.io/5115b1af-d21b-64ca-f9fc-c5b02c8d8722/',\n        '2x': 'https://leonardo.osnova.io/4b67c5ea-d3b8-da78-2d49-fe5c7f3caaee/',\n      },\n      incorrect: {\n        '1x': 'https://leonardo.osnova.io/04ba6ca0-542b-2119-6ba2-159c812ba234/',\n        '2x': 'https://leonardo.osnova.io/1f89a98a-929e-28a1-a678-953a9e11a00b/',\n      },\n      correct: {\n        '1x': 'https://leonardo.osnova.io/1858cb1d-5c4a-d556-9347-2a3f5580173f/',\n        '2x': 'https://leonardo.osnova.io/5ed4a331-0460-aa38-2aaf-ae7cda6b955d/',\n      },\n    },\n    answer: 'Это эпизод из вступления мультипли- кационного фильма «ВАЛЛ-И».',\n    correct: 'left',\n  }, {\n    text: 'ИИ, который умеет распознавать блеф в покере, учится блефу во время игры и выигрывает турниры.',\n    images: {\n      main: {\n        '1x': 'https://leonardo.osnova.io/e7c3326f-c649-a8d8-1809-38927cde32f1/',\n        '2x': 'https://leonardo.osnova.io/7a7d89cb-18eb-81f4-2497-1db6a5e6e927/',\n      },\n      incorrect: {\n        '1x': 'https://leonardo.osnova.io/6f9f37d1-c305-f512-d495-8eda95f3d206/',\n        '2x': 'https://leonardo.osnova.io/e3762aaf-f713-cc32-d0d7-e3f416ff6526/',\n      },\n      correct: {\n        '1x': 'https://leonardo.osnova.io/daa3c712-b06a-402b-ed06-d67817db7629/',\n        '2x': 'https://leonardo.osnova.io/41c7a510-d796-953f-d02f-07cbd25e2017/',\n      },\n    },\n    answer: 'Программа Libratus просчитывала ошибки других игроков и училась блефовать самостоятельно во время матчей. В итоге выиграла $1,7 млн в турнире против профессиональных игроков.',\n    correct: 'right',\n  }, {\n    text: 'Беспилотник с тепловизором, который осматривает промышленные объекты и умеет находить дефекты.',\n    images: {\n      main: {\n        '1x': 'https://leonardo.osnova.io/9424fe6f-080b-0241-36e5-d7f244490872/',\n        '2x': 'https://leonardo.osnova.io/251fd56d-63f8-6710-7f6f-de57944040dc/',\n      },\n      incorrect: {\n        '1x': 'https://leonardo.osnova.io/9ab59361-8030-9d54-13c1-ba3d62591e4e/',\n        '2x': 'https://leonardo.osnova.io/06a67a86-30a0-b829-a2f6-706f11557f53/',\n      },\n      correct: {\n        '1x': 'https://leonardo.osnova.io/e58c7403-ecb0-eaf7-ef5b-2aca7b7b8b08/',\n        '2x': 'https://leonardo.osnova.io/6dad8c0f-e168-db51-6f6b-6a593eeae15f/',\n      },\n    },\n    answer: 'В СИБУРе такие дроны уже используются для осмотра труднодоступных объектов, в том числе для поиска трещин в трубах.',\n    correct: 'right',\n  }, {\n    text: 'Прозрачный самолёт-невидимка.',\n    images: {\n      main: {\n        '1x': 'https://leonardo.osnova.io/724ce1fb-8217-efdc-11ac-c6337b8b7a8a/',\n        '2x': 'https://leonardo.osnova.io/6199c0cf-82f2-f793-cdb4-99442e099b1f/',\n      },\n      incorrect: {\n        '1x': 'https://leonardo.osnova.io/8344d0c5-b6d8-d901-18d6-f3d3e829e263/',\n        '2x': 'https://leonardo.osnova.io/8fda736b-3a0a-c520-c8b9-716af31dc66a/',\n      },\n      correct: {\n        '1x': 'https://leonardo.osnova.io/c818af74-2548-c303-bfe0-111b80c6169b/',\n        '2x': 'https://leonardo.osnova.io/058ba4c4-3e2d-6310-c4d4-bc6c6657776c/',\n      },\n    },\n    answer: 'На таком в телефильме 1975 года летает «Чудо-женщина».',\n    correct: 'left',\n  }, {\n    text: 'Производственная машина, которая сама понимает, когда ей необходимо техобслуживание.',\n    images: {\n      main: {\n        '1x': 'https://leonardo.osnova.io/d57c18ac-5027-984d-43c1-5040421f7a15/',\n        '2x': 'https://leonardo.osnova.io/f109d9f7-f4d0-88c1-658e-d4c58ebd4f01/',\n      },\n      incorrect: {\n        '1x': 'https://leonardo.osnova.io/3c89f7c8-80f6-68d2-6024-414dfdc42366/',\n        '2x': 'https://leonardo.osnova.io/16d1a1e3-29ee-04a8-2e11-adceed8ecd22/',\n      },\n      correct: {\n        '1x': 'https://leonardo.osnova.io/b533c81b-74bb-f5d3-26c5-59d3e96c911a/',\n        '2x': 'https://leonardo.osnova.io/36f3c491-0848-be92-2ebe-7b8c2d35edac/',\n      },\n    },\n    answer: 'На производстве нефтехимической компании СИБУР такая технология помогает избежать внеплановых остановок оборудования на производстве.',\n    correct: 'right',\n  }, {\n    text: 'Самообучаемый искусственный интеллект, который встраивается в операционную систему. Умеет изображать эмоции и обладает чувством юмора.',\n    images: {\n      main: {\n        '1x': 'https://leonardo.osnova.io/6abcde81-5b79-f3bd-5a72-727dfd9ee677/',\n        '2x': 'https://leonardo.osnova.io/05eee0cc-b332-206f-bc5d-5a1d932fcf21/',\n      },\n      incorrect: {\n        '1x': 'https://leonardo.osnova.io/5784b234-86e0-ea7e-8925-1c9734834228/',\n        '2x': 'https://leonardo.osnova.io/b989ef2e-6ad7-8972-5daf-e918ed92a680/',\n      },\n      correct: {\n        '1x': 'https://leonardo.osnova.io/47f29d54-0910-ab56-67f6-22ccf9ab7ff0/',\n        '2x': 'https://leonardo.osnova.io/f9f90b7e-d2e7-f1f1-3d99-4835dc9e1cfa/',\n      },\n    },\n    answer: 'В голову приходят голосовые помощники вроде Siri, но настоящее чувство юмора пока есть только у ИИ из фильма «Она».',\n    correct: 'left',\n  }, {\n    text: '«Умный» дом, который может проецировать на стены сюжеты, придуманные жильцами.',\n    images: {\n      main: {\n        '1x': 'https://leonardo.osnova.io/1d826b32-b558-2921-e493-ca235bd827b4/',\n        '2x': 'https://leonardo.osnova.io/10b9559b-221a-20b3-7a16-049d385075ad/',\n      },\n      incorrect: {\n        '1x': 'https://leonardo.osnova.io/16d59cf5-0bfb-a982-28a3-a8410731f198/',\n        '2x': 'https://leonardo.osnova.io/4ed91442-c384-b9fa-cbc9-24dca39afcfb/',\n      },\n      correct: {\n        '1x': 'https://leonardo.osnova.io/7bd5dfc5-c512-4ba8-e6d1-cc181c2dae25/',\n        '2x': 'https://leonardo.osnova.io/902486c0-4516-c78e-6e71-d4480674ed3b/',\n      },\n    },\n    answer: 'Рэй Бредбери описал эту технологию в жутком рассказе «Вельд».',\n    correct: 'left',\n  }, {\n    text: 'Удалённые консультации экспертов, которые можно получать во время ремонта оборудования с помощью дополненной реальности.',\n    images: {\n      main: {\n        '1x': 'https://leonardo.osnova.io/df3bce33-cf17-e8d0-ca6c-2912e04715af/',\n        '2x': 'https://leonardo.osnova.io/a194a985-c2e0-0dfa-c8f4-739c530f8f06/',\n      },\n      incorrect: {\n        '1x': 'https://leonardo.osnova.io/37e1ccec-6e0d-3bb0-45da-8558e281af44/',\n        '2x': 'https://leonardo.osnova.io/e2d68dd2-4bea-de1d-95c3-1060150fd7db/',\n      },\n      correct: {\n        '1x': 'https://leonardo.osnova.io/c725165f-103e-3ce5-57a0-b70a6968af0c/',\n        '2x': 'https://leonardo.osnova.io/694357d2-a97b-2a6a-711a-c579a5b44302/',\n      },\n    },\n    answer: 'Это технология СИБУР, и она уже работает на нефтехимических заводах компании. Скоро можно будет получать консультации от компьютера, который будет автоматически узнавать оборудование.',\n    correct: 'right',\n  }, {\n    text: 'ИИ, который умеет читать по губам почти без ошибок.',\n    images: {\n      main: {\n        '1x': 'https://leonardo.osnova.io/de492564-affd-935e-c3b3-a2501718661f/',\n        '2x': 'https://leonardo.osnova.io/2f58ede5-3593-8c4b-ce91-19de83905501/',\n      },\n      incorrect: {\n        '1x': 'https://leonardo.osnova.io/b2781987-1edb-bf7b-87f4-eff8e8fd8a1d/',\n        '2x': 'https://leonardo.osnova.io/7f9fe6bc-713b-4cae-26c4-ec9916509f58/',\n      },\n      correct: {\n        '1x': 'https://leonardo.osnova.io/a7f308db-d04b-c6b6-c8f1-0926e7bb7add/',\n        '2x': 'https://leonardo.osnova.io/1f01fb73-334b-604a-5c05-6818330dff20/',\n      },\n    },\n    answer: 'Над такой технологией работают исследователи из Оксфордского университета. В тестах ИИ правильно распознал речь в 95,3% случаев, а люди — в 52,3%.',\n    correct: 'right',\n  }, {\n    text: '«Умные» часы, которые, помимо других функций, показывают состояние здоровья носителя и способны диагностировать отравление, некоторые заболевания и травмы.',\n    images: {\n      main: {\n        '1x': 'https://leonardo.osnova.io/1be16eae-6167-2191-048e-83d2fba17220/',\n        '2x': 'https://leonardo.osnova.io/e269dbf6-d1fe-0e62-f4c9-4ea0745562e9/',\n      },\n      incorrect: {\n        '1x': 'https://leonardo.osnova.io/5627a804-67ec-6e5b-fa29-af53736e0935/',\n        '2x': 'https://leonardo.osnova.io/ebd11896-88f2-7513-f5b4-6da4032bac20/',\n      },\n      correct: {\n        '1x': 'https://leonardo.osnova.io/b8efa83a-9c62-d995-b571-04ef79cc3fd5/',\n        '2x': 'https://leonardo.osnova.io/3f44a3fc-333e-8e9e-fac9-685a1ce4c9e8/',\n      },\n    },\n    answer: 'Пока что Pip-Boy из серии игр Fallout заботится о здоровье персонажа лучше реальных смарт-часов.',\n    correct: 'left',\n  }, {\n    text: 'Робот, который умеет складывать бумажные самолётики и дирижировать.',\n    images: {\n      main: {\n        '1x': 'https://leonardo.osnova.io/864db444-85d6-675d-0a86-0dc1b999ca73/',\n        '2x': 'https://leonardo.osnova.io/32eea682-eb5c-2ec4-81b7-45497c571a95/',\n      },\n      incorrect: {\n        '1x': 'https://leonardo.osnova.io/4aa1d494-8e4a-74bf-72bc-8c90e1b1ceae/',\n        '2x': 'https://leonardo.osnova.io/bb09295b-c470-42a6-d090-1defaabe52be/',\n      },\n      correct: {\n        '1x': 'https://leonardo.osnova.io/2bb0bfda-07f3-db70-0405-9b2e3505918a/',\n        '2x': 'https://leonardo.osnova.io/5b3a8cef-7f86-f17a-54c4-1d77e02a7bab/',\n      },\n    },\n    answer: 'Да, такого робота привезла на конференцию MWC 2019 компания ABB, чтобы показать, что он способен на сложные многоступенчатые операции.',\n    correct: 'right',\n  }, {\n    text: 'Искусственный интеллект, который помогает создавать кулинарные рецепты.',\n    images: {\n      main: {\n        '1x': 'https://leonardo.osnova.io/396a2dd3-7af7-90d5-00e6-c95c7907f714/',\n        '2x': 'https://leonardo.osnova.io/f896dc83-1d27-4e4e-28f5-b47acd53d12b/',\n      },\n      incorrect: {\n        '1x': 'https://leonardo.osnova.io/83a5585b-f887-080b-c30b-aebec819d87a/',\n        '2x': 'https://leonardo.osnova.io/a3d5d306-c452-881f-fffb-1c930b67512a/',\n      },\n      correct: {\n        '1x': 'https://leonardo.osnova.io/e4bde824-53c5-a537-043d-adc9451b64d8/',\n        '2x': 'https://leonardo.osnova.io/4786b493-e543-bb41-a41f-e2c04ec8268e/',\n      },\n    },\n    answer: 'Шеф-повара от IBM зовут Chef Watson. Он усвоил логику использования ингредиентов на основе более 10 тысяч вариантов, и может подсказывать неочевидные варианты сочетаний продуктов.',\n    correct: 'right',\n  }],\n  result: {\n    text: '<p>Три процента — максимальный кэшбек по новой дебетовой карте банка «Открытие», по одному проценту за каждое условие:</p><ul><li>Тратить с карты больше 5 тысяч рублей в месяц.</li><li>Одну тысячу — на услуги в мобильном банке.</li><li>Держать на картах остаток от 100 тысяч рублей.</li></ul>',\n    img: 'https://leonardo.osnova.io/aea1566d-dc07-b713-90c5-d7b601a0c216/',\n    img2x: 'https://leonardo.osnova.io/ffe1a7c7-5559-15a4-9efa-4209f3bd1aba/',\n  },\n  results: [{\n    title: 'Рублёвая монета дорожает<br>в сто раз, если её гравировку<br><i>п</i>ерекосило',\n    img: 'https://leonardo.osnova.io/ccddc38e-0ba9-0815-0cda-3b84a1f1ff09/',\n    img2x: 'https://leonardo.osnova.io/8b907491-8101-44d3-9e9a-3746ccabd6b5/',\n  }, {\n    title: 'Проверить метеорит<br>на подлинность стоит<br>три тысячи рублей',\n    img: 'https://leonardo.osnova.io/55158df9-a2fc-4e57-b56b-bb224e846142/',\n    img2x: 'https://leonardo.osnova.io/7136b697-26bf-c735-7d97-d49a2785f192/',\n  }, {\n    title: 'На космической станции<br>нельзя писать<br>графитовым карандашом',\n    img: 'https://leonardo.osnova.io/187d7499-fddb-91e9-348a-288c09e9d238/',\n    img2x: 'https://leonardo.osnova.io/6b122cf5-be48-bb4c-725a-e9705e548840/',\n  }],\n};\n","export default {\n  swipe: '<svg width=\"54.78\" height=\"60\"><path d=\"M35.22 7.82h12.5l-3 3a1.31 1.31 0 0 0 1.85 1.84l5.23-5.22a1.23 1.23 0 0 0 .13-.2 1.28 1.28 0 0 0 .14-.24 1.27 1.27 0 0 0-.25-1.38L46.58.38a1.301 1.301 0 0 0-1.84 1.84l3 3H35.22a1.3 1.3 0 0 0 0 2.6zM7.44 12.66a1.31 1.31 0 0 0 0-1.84l-3-3H17a1.305 1.305 0 0 0 0-2.61H4.45l3-3A1.301 1.301 0 0 0 5.6.38L.38 5.6A1.3 1.3 0 0 0 .1 6a1.31 1.31 0 0 0 0 1 1.28 1.28 0 0 0 .15.23 1.23 1.23 0 0 0 .13.2l5.22 5.23a1.31 1.31 0 0 0 .92.38 1.29 1.29 0 0 0 .92-.38zM49.57 26.09a5.2 5.2 0 0 0-2.9.88 5.22 5.22 0 0 0-7.83-2.61 5.23 5.23 0 0 0-4.93-3.49 5.18 5.18 0 0 0-2.61.7V13a5.22 5.22 0 1 0-10.44 0v22.22l-4.53-3.4a6.84 6.84 0 0 0-8.89.63 3.92 3.92 0 0 0 0 5.53L26 56.56A11.67 11.67 0 0 0 34.32 60h6.11a14.37 14.37 0 0 0 14.35-14.35V31.3a5.22 5.22 0 0 0-5.21-5.21zm2.61 19.57a11.75 11.75 0 0 1-11.74 11.73h-6.12a9.07 9.07 0 0 1-6.46-2.67L9.29 36.14a1.31 1.31 0 0 1 0-1.84 4.22 4.22 0 0 1 5.49-.39l6.62 5a1.3 1.3 0 0 0 2.09-1V13a2.61 2.61 0 1 1 5.22 0v19.61a1.305 1.305 0 0 0 2.61 0v-6.52a2.61 2.61 0 1 1 5.22 0v6.52a1.305 1.305 0 0 0 2.61 0v-3.92a2.61 2.61 0 0 1 5.22 0v3.91a1.305 1.305 0 0 0 2.61 0v-1.3a2.61 2.61 0 0 1 5.22 0v14.35z\"/></svg>',\n  swipeL: '<svg viewBox=\"0 0 54.78 60.01\"><path d=\"M7.44 12.67a1.31 1.31 0 0 0 0-1.84l-3-3H17a1.305 1.305 0 1 0 0-2.61H4.45l3-3A1.301 1.301 0 0 0 5.6.39L.38 5.61a1.3 1.3 0 0 0-.28.4 1.31 1.31 0 0 0 0 1 1.28 1.28 0 0 0 .15.23 1.23 1.23 0 0 0 .13.2l5.22 5.23a1.31 1.31 0 0 0 .92.38 1.29 1.29 0 0 0 .92-.38zM49.57 26.1a5.2 5.2 0 0 0-2.9.88 5.22 5.22 0 0 0-7.83-2.61 5.22 5.22 0 0 0-7.54-2.79v-8.57a5.22 5.22 0 0 0-10.44 0v22.22l-4.53-3.4a6.84 6.84 0 0 0-8.89.63 3.92 3.92 0 0 0 0 5.53L26 56.57a11.67 11.67 0 0 0 8.32 3.44h6.11a14.37 14.37 0 0 0 14.35-14.35V31.31a5.22 5.22 0 0 0-5.21-5.21zm2.63 19.56A11.75 11.75 0 0 1 40.44 57.4h-6.12a9.07 9.07 0 0 1-6.46-2.67L9.29 36.15a1.31 1.31 0 0 1 0-1.84 4.22 4.22 0 0 1 5.49-.39l6.62 5a1.3 1.3 0 0 0 2.09-1V13.01a2.61 2.61 0 0 1 5.22 0v19.61a1.305 1.305 0 1 0 2.61 0V26.1a2.61 2.61 0 0 1 5.22 0v6.52a1.31 1.31 0 0 0 2.61 0V28.7a2.61 2.61 0 1 1 5.22 0v3.91a1.305 1.305 0 0 0 2.61 0v-1.3a2.61 2.61 0 1 1 5.22 0v14.35z\"/></svg>',\n  swipeR: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48.48 60\"><path d=\"M28.92 7.82h12.5l-3 3a1.31 1.31 0 0 0 1.85 1.84l5.23-5.22a1.23 1.23 0 0 0 .13-.2 1.25 1.25 0 0 0-.11-1.62L40.28.38a1.301 1.301 0 1 0-1.84 1.84l3 3H28.92a1.3 1.3 0 0 0 0 2.6zM43.27 26.09a5.2 5.2 0 0 0-2.9.88 5.22 5.22 0 0 0-7.83-2.61A5.22 5.22 0 0 0 25 21.57V13a5.22 5.22 0 1 0-10.44 0v22.22l-4.53-3.4a6.84 6.84 0 0 0-8.89.63 3.92 3.92 0 0 0 0 5.53L19.7 56.56A11.67 11.67 0 0 0 28.02 60h6.11a14.37 14.37 0 0 0 14.35-14.35V31.3a5.22 5.22 0 0 0-5.21-5.21zm2.61 19.57a11.75 11.75 0 0 1-11.74 11.73h-6.12a9.07 9.07 0 0 1-6.46-2.67L2.99 36.14a1.31 1.31 0 0 1 0-1.84 4.22 4.22 0 0 1 5.49-.39l6.62 5a1.3 1.3 0 0 0 2.09-1V13a2.61 2.61 0 1 1 5.22 0v19.61a1.31 1.31 0 0 0 2.61 0v-6.52a2.61 2.61 0 0 1 5.22 0v6.52a1.31 1.31 0 0 0 2.61 0v-3.92a2.61 2.61 0 0 1 5.22 0v3.91a1.31 1.31 0 0 0 2.61 0v-1.3a2.61 2.61 0 1 1 5.22 0v14.35z\"/></svg>',\n  refresh: '<svg width=\"15\" height=\"15\"><path d=\"M14.62.674c-.268-.11-.495-.065-.684.136l-1.27 1.26A7.58 7.58 0 0 0 10.278.542 7.357 7.357 0 0 0 7.5 0a7.298 7.298 0 0 0-2.91.596 7.565 7.565 0 0 0-2.393 1.601A7.567 7.567 0 0 0 .596 4.59 7.298 7.298 0 0 0 0 7.5c0 1.015.199 1.986.596 2.91a7.567 7.567 0 0 0 1.601 2.393 7.57 7.57 0 0 0 2.393 1.601A7.298 7.298 0 0 0 7.5 15c1.12 0 2.185-.236 3.194-.708a7.333 7.333 0 0 0 2.578-1.997.32.32 0 0 0 .073-.22.27.27 0 0 0-.093-.2l-1.338-1.348a.376.376 0 0 0-.244-.087c-.104.013-.179.052-.224.117a4.904 4.904 0 0 1-1.748 1.436A4.925 4.925 0 0 1 7.5 12.5a4.87 4.87 0 0 1-1.938-.395 5.034 5.034 0 0 1-1.597-1.07A5.038 5.038 0 0 1 2.896 9.44 4.87 4.87 0 0 1 2.5 7.5c0-.677.132-1.323.396-1.938a5.036 5.036 0 0 1 1.07-1.597c.449-.45.98-.806 1.596-1.07A4.87 4.87 0 0 1 7.5 2.5c1.309 0 2.445.446 3.409 1.338L9.56 5.186c-.202.195-.248.42-.137.674.11.26.303.39.576.39h4.375a.6.6 0 0 0 .44-.185.6.6 0 0 0 .185-.44V1.25a.584.584 0 0 0-.38-.576z\"/></svg>',\n};\n","/**\n * Find most frequent value in array\n * @param {Array} array\n */\nexport const getMostFrequentValue = (array) => {\n    let result = [...array];\n\n    return result.sort((a, b) =>\n        result.filter(v => v === a).length - result.filter(v => v === b).length\n    ).pop();\n};\n\n/**\n * Shuffle an array (original array will be modified)\n * @param {Array} array\n */\nexport const shuffle = (array) => {\n    let j, x, i;\n\n    for (i = array.length - 1; i > 0; i--) {\n        j = Math.floor(Math.random() * (i + 1));\n        x = array[i];\n        array[i] = array[j];\n        array[j] = x;\n    }\n};\n\n/**\n * Convert nodelist to array\n * @param {NodeList} nodeList\n */\nexport const toArray = (nodeList) => {\n    return Array.prototype.slice.call(nodeList);\n};","import { requestAnimate } from './animate';\n\nexport default function makeSwipeable(el, callback) {\n  let x = 0;\n  let shift = 0;\n  let direction = null;\n  let firstX;\n  let currentX;\n\n  function down(eDown) {\n    if (el.closest('.is-answered')) { return false; }\n\n    if (eDown.touches) { eDown = eDown.touches[0]; }\n\n    // x = eDown.clientX + shift;\n    x = eDown.clientX;\n    firstX = x;\n\n    function move(eMove) {\n      if (eMove.touches) { eMove = eMove.touches[0]; }\n\n      shift = x - eMove.clientX;\n      direction = (x - eMove.clientX) > 0 ? 'left' : 'right';\n      currentX = eMove.clientX;\n\n      const opacity = Math.ceil((100 / (el.offsetWidth / Math.abs(shift))).toFixed() / 10) * 10;\n      el.dataset.opacity = opacity > 100 ? 100 : opacity;\n      el.dataset.dir = direction;\n      el.style.transform = `translate3d(${-shift}px, 0, 0)`;\n    }\n\n    function up(eUp) {\n      if (direction) {\n        (function (dir) {\n          requestAnimate({\n            duration: 100,\n            timing: timeFraction => timeFraction,\n            draw: (progress) => {\n              const p = 1 - progress;\n              el.style.transform = `translate3d(${(-shift) * p}px, 0, 0)`;\n\n              if (progress === 1 && Math.abs(currentX - firstX) > (el.offsetWidth * 0.4)) {\n                callback(dir);\n              }\n            },\n          });\n        }(direction));\n      }\n\n      direction = null;\n      el.dataset.dir = '';\n\n      document.removeEventListener('mousemove', move);\n      document.removeEventListener('touchmove', move);\n      document.removeEventListener('mouseup', up);\n      document.removeEventListener('touchend', up);\n      document.removeEventListener('touchleave', up);\n      document.removeEventListener('touchcancel', up);\n    }\n\n    document.addEventListener('mousemove', move);\n    document.addEventListener('touchmove', move);\n    document.addEventListener('mouseup', up);\n    document.addEventListener('mouseleave', up);\n    document.addEventListener('touchend', up);\n    document.addEventListener('touchleave', up);\n    document.addEventListener('touchcancel', up);\n\n    return true;\n  }\n\n  el.addEventListener('mousedown', down);\n  el.addEventListener('touchstart', down);\n}\n","import Likely from 'cmtt-likely';\n\nimport { makeElement } from './dom';\nimport * as Analytics from './analytics';\n\nconst CSS = {\n    likely: 'likely',\n    likelyCustom: 'likely--custom'\n};\n\nexport const init = () => {\n    Likely.initate();\n};\n\n/**\n * Make likely buttons and append to specified element\n * @param {Element} parentContainer - likely container will be placed here\n * @param {Object} set - object with optional params (title, url, twitter)\n */\nexport const make = (parentContainer, set = {}) => {\n    let likelyContainer = makeElement('div', [CSS.likely, CSS.likelyCustom]);\n    let socials = ['facebook', 'vkontakte', 'twitter'];\n\n    socials.forEach(social => {\n        let button = makeElement('div', social);\n\n        if (social === 'facebook') button.innerHTML = 'Поделиться';\n\n        button.addEventListener('click', () => {\n            Analytics.sendEvent(`Share ${social}`);\n        });\n\n        likelyContainer.appendChild(button);\n    });\n\n    parentContainer.appendChild(likelyContainer);\n\n    if (set.url) likelyContainer.dataset.url = set.url;\n    if (set.twitter) likelyContainer.dataset.twitter = set.twitter;\n    if (set.title) likelyContainer.dataset.title = set.title;\n\n    init();\n};","// 'use strict';\r\n\r\nvar Likely = require('./widget'),\r\n    config = require('./config'),\r\n    utils = require('./utils'),\r\n    dom = require('./dom');\r\n\r\n/**\r\n * @param {Node} node\r\n * @param {Object} options\r\n */\r\nvar likely = function (node, options) {\r\n    options = options || {};\r\n\r\n    var widget = node[config.name];\r\n\r\n    if (widget) {\r\n        widget.update(options);\r\n    }\r\n    else {\r\n        node[config.name] = new Likely(node, utils.merge(\r\n            {}, likely.defaults,\r\n            options, utils.bools(node)\r\n        ));\r\n    }\r\n\r\n    return widget;\r\n};\r\n\r\n/**\r\n * Initiate Likely buttons on load\r\n */\r\nlikely.initiate = likely.initate = function () {\r\n    var widgets = dom.findAll('.' + config.name);\r\n\r\n    utils.toArray(widgets).forEach(likely);\r\n};\r\n\r\n/**\r\n * Defaults options for likely\r\n */\r\nlikely.defaults = {\r\n    counters: true,\r\n    timeout:  1e3,\r\n    zeroes:   false,\r\n    title:    document.title,\r\n    wait:     0.5e3,\r\n    url:      window.location.href.replace(window.location.hash, '')\r\n};\r\n\r\nmodule.exports = likely;","var Button = require('./button');\r\n\r\nvar services = require('./services'),\r\n    config   = require('./config'),\r\n    utils = require('./utils'),\r\n    dom = require('./dom'),\r\n    storage = require('./storage');\r\n\r\n/**\r\n * Main widget view\r\n *\r\n * @param {Node} container\r\n * @param {Object} options\r\n */\r\nfunction Likely(container, options) {\r\n    this.isSmartOrder = container.dataset.smart !== undefined ? true : false;\r\n    this.container = container;\r\n    this.options   = options;\r\n\r\n    this.countersLeft = 0;\r\n    this.buttons      = [];\r\n    this.number       = 0;\r\n\r\n    this.init();\r\n}\r\n\r\nLikely.prototype = {\r\n\r\n    /**\r\n     * Change buttons order, if previous clicks were saved\r\n     * @param {Array} children\r\n     */\r\n    reorder: function (children) {\r\n        var savedServices = storage.getItem(config.storageKey);\r\n\r\n        if (savedServices) {\r\n            savedServices.reverse();\r\n\r\n            savedServices.forEach(function (service) {\r\n\r\n                var button = dom.find('.' + service);\r\n\r\n                if (button) {\r\n                    button.parentNode.insertBefore(button, button.parentNode.firstChild);\r\n                }\r\n\r\n            });\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Initiate the social buttons widget\r\n     */\r\n    init: function () {\r\n\r\n        var buttons = utils.toArray(this.container.children);\r\n\r\n        if (dom.isMobile() && this.isSmartOrder) {\r\n            this.reorder(buttons);\r\n        }\r\n\r\n        buttons.forEach(this.addButton.bind(this));\r\n\r\n        if (this.options.counters) {\r\n            this.timer   = setTimeout(this.appear.bind(this), this.options.wait);\r\n            this.timeout = setTimeout(this.ready.bind(this),  this.options.timeout);\r\n        }\r\n        else {\r\n            this.appear();\r\n        }\r\n\r\n        utils.flexboxSupport(this.container, config.name);\r\n    },\r\n\r\n    /**\r\n     * Add a button\r\n     *\r\n     * @param {Node} node\r\n     */\r\n    addButton: function (node) {\r\n        var button = new Button(node, this, this.options);\r\n\r\n        this.buttons.push(button);\r\n\r\n        if (button.options.counterUrl) {\r\n            this.countersLeft++;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Update the timer with URL\r\n     *\r\n     * @param {Object} options\r\n     */\r\n    update: function (options) {\r\n        if (\r\n            options.forceUpdate ||\r\n            options.url !== this.options.url\r\n        ) {\r\n            this.countersLeft = this.buttons.length;\r\n            this.number = 0;\r\n\r\n            this.buttons.forEach(function (button) {\r\n                button.update(options);\r\n            });\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Update counter\r\n     *\r\n     * @param {String} service\r\n     * @param {Number} counter\r\n     */\r\n    updateCounter: function (service, counter) {\r\n        if (counter) {\r\n            this.number += counter;\r\n        }\r\n\r\n        this.countersLeft--;\r\n\r\n        if (this.countersLeft === 0) {\r\n            this.appear();\r\n            this.ready();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Show the buttons with smooth animation\r\n     */\r\n    appear: function () {\r\n        this.container.classList.add(config.name + '--visible');\r\n    },\r\n\r\n    /**\r\n     * Get. Set. Ready.\r\n     */\r\n    ready: function () {\r\n        if (this.timeout) {\r\n            clearTimeout(this.timeout);\r\n\r\n            this.container.classList.add(config.name + '--ready');\r\n        }\r\n    }\r\n};\r\n\r\nmodule.exports = Likely;","var services = require('./services'),\r\n    config = require('./config'),\r\n    fetch = require('./fetch'),\r\n    utils = require('./utils'),\r\n    dom = require('./dom'),\r\n    storage = require('./storage');\r\n\r\nvar htmlSpan = '<span class=\"{className}\">{content}</span>';\r\n\r\n/**\r\n * Separate social link widget\r\n *\r\n * @param {Node} widget\r\n * @param {Likely} likely\r\n * @param {Object} options\r\n */\r\nfunction LikelyButton (widget, likely, options) {\r\n    this.widget  = widget;\r\n    this.likely  = likely;\r\n    this.options = utils.merge(options);\r\n\r\n    this.init();\r\n}\r\n\r\nLikelyButton.prototype = {\r\n    /**\r\n     * Initiate the button\r\n     */\r\n    init: function () {\r\n        this.detectService();\r\n        this.detectParams();\r\n\r\n        if (this.service) {\r\n            this.initHtml();\r\n\r\n            setTimeout(this.initCounter.bind(this), 0);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Update the counter\r\n     *\r\n     * @param {Object} options\r\n     */\r\n    update: function (options) {\r\n        var className = '.' + config.prefix + 'counter',\r\n            counters  = dom.findAll(className, this.widget);\r\n\r\n        utils.extend(this.options, utils.merge({forceUpdate: false}, options));\r\n        utils.toArray(counters).forEach(function (node) {\r\n            node.parentNode.removeChild(node);\r\n        });\r\n\r\n        this.initCounter();\r\n    },\r\n\r\n    /**\r\n     * Get the config.name of service and its options\r\n     */\r\n    detectService: function () {\r\n        var widget  = this.widget,\r\n            service = utils.getDataset(widget).service;\r\n\r\n        if (!service) {\r\n            var classes = widget.className.split(' ');\r\n\r\n            for (var i = 0; i < classes.length; i++) {\r\n                if (classes[i] in services) break;\r\n            }\r\n\r\n            service = classes[i];\r\n        }\r\n\r\n        if (service) {\r\n            this.service = service;\r\n\r\n            utils.extend(this.options, services[service]);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Merge params from data-* attributes into options hash map\r\n     */\r\n    detectParams: function () {\r\n        var options = this.options,\r\n            data    = utils.getDataset(this.widget);\r\n\r\n        if (data.counter) {\r\n            var counter = parseInt(data.counter, 10);\r\n\r\n            if (isNaN(counter)) {\r\n                options.counterUrl = data.counter;\r\n            }\r\n            else {\r\n                options.counterNumber = counter;\r\n            }\r\n        }\r\n\r\n        options.title = data.title || options.title;\r\n        options.url   = data.url   || options.url;\r\n    },\r\n\r\n    /**\r\n     * Inititate button's HTML\r\n     */\r\n    initHtml: function () {\r\n        var options = this.options,\r\n            widget  = this.widget,\r\n            text    = widget.innerHTML;\r\n\r\n        widget.addEventListener('click', this.click.bind(this));\r\n        widget.classList.remove(this.service);\r\n        widget.className += (' ' + this.className('widget'));\r\n\r\n        var button = utils.template(htmlSpan, {\r\n            className: this.className('button'),\r\n            content:   text\r\n        });\r\n\r\n        var icon = utils.template(htmlSpan, {\r\n            className: this.className('icon'),\r\n            content:   dom.wrapSVG(options.svgi)\r\n        });\r\n\r\n        widget.innerHTML = icon + button;\r\n    },\r\n\r\n    /**\r\n     * Fetch or get cached counter value and update the counter\r\n     */\r\n    initCounter: function () {\r\n        var options = this.options;\r\n\r\n        if (options.counters && options.counterNumber) {\r\n            this.updateCounter(options.counterNumber);\r\n        }\r\n        else if (options.counterUrl) {\r\n            fetch(\r\n                this.service,\r\n                options.url,\r\n                options\r\n            )(this.updateCounter.bind(this));\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @param {String} className\r\n     * @return {String}\r\n     */\r\n    className: function (className) {\r\n        var fullClass = config.prefix + className;\r\n\r\n        return fullClass + ' ' + fullClass + '--' + this.service;\r\n    },\r\n\r\n    /**\r\n     * Update counter\r\n     *\r\n     * @param {String} e\r\n     */\r\n    updateCounter: function (counter) {\r\n        counter = parseInt(counter, 10) || 0;\r\n\r\n        var counterElement = dom.find('.' + config.name + '__counter', this.widget);\r\n\r\n        if (counterElement) {\r\n            counterElement.parentNode.removeChild(counterElement);\r\n        }\r\n\r\n        var options = {\r\n            className: this.className('counter'),\r\n            content:   counter\r\n        };\r\n\r\n        if (!counter && !this.options.zeroes) {\r\n            options.className += ' ' + config.prefix + 'counter--empty';\r\n            options.content = '';\r\n        }\r\n\r\n        this.widget.appendChild(\r\n            dom.createNode(utils.template(htmlSpan, options))\r\n        );\r\n\r\n        this.likely.updateCounter(this.service, counter);\r\n    },\r\n\r\n    /**\r\n     * Click event listener\r\n     */\r\n    click: function () {\r\n        var options = this.options;\r\n\r\n        if ( this.service == 'more' ){\r\n\r\n            this.widget.classList.toggle('active');\r\n            this.widget.parentElement.classList.toggle(this.options.className);\r\n\r\n        } else if (this.service == 'email'){\r\n\r\n            var url = utils.makeUrl(options.popupUrl, {\r\n                url: options.url,\r\n                title: options.title\r\n            });\r\n\r\n            window.location = url;\r\n\r\n            this.rememberClicked(this.service);\r\n\r\n        } else {\r\n\r\n            if (options.click.call(this)) {\r\n\r\n                var twitterText = this.likely.container.dataset.twitter,\r\n                    twitterUrl = this.likely.container.dataset.twitterUrl;\r\n\r\n                var window_url = utils.makeUrl(options.popupUrl, {\r\n                    url:   (this.service === 'twitter' && twitterUrl !== '' && twitterUrl !== undefined) ? twitterUrl : options.url,\r\n                    title: (this.service === 'twitter' && twitterText !== '' && twitterText !== undefined) ? twitterText : options.title\r\n                });\r\n\r\n                dom.openPopup(\r\n                    this.addAdditionalParamsToUrl(window_url),\r\n                    config.prefix + this.service,\r\n                    options.popupWidth,\r\n                    options.popupHeight\r\n                );\r\n\r\n                this.rememberClicked(this.service);\r\n            }\r\n\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * Append service data to URL\r\n     *\r\n     * @param {String} url\r\n     */\r\n    addAdditionalParamsToUrl: function (url) {\r\n        var parameters = utils.query(utils.merge(\r\n                this.widget.dataset,\r\n                this.options.data\r\n            )),\r\n            delimeter = url.indexOf('?') === -1 ? '?' : '&';\r\n\r\n        return (parameters === '') ? url : (url + delimeter + parameters);\r\n    },\r\n\r\n    /**\r\n     * Remember last clicked button and save to storage\r\n     */\r\n    rememberClicked: function (service) {\r\n        var services = storage.getItem(config.storageKey) || [],\r\n            serviceIndex = services.indexOf(service);\r\n\r\n        if (serviceIndex !== -1) {\r\n            services.splice(serviceIndex, 1);\r\n        }\r\n\r\n        services.splice(0, 0, service);\r\n\r\n        storage.setItem(config.storageKey, services);\r\n    }\r\n};\r\n\r\nmodule.exports = LikelyButton;","var dom = require('./dom');\r\n\r\n/**\r\n * @param {String} url\r\n * @param {Function} factory\r\n */\r\nvar counter = function (url, factory) {\r\n    var self = this;\r\n    \r\n    dom.getJSON(url, function (count) {\r\n        try {\r\n            if (typeof self.convertNumber === 'function') {\r\n                count = self.convertNumber(count);\r\n            } \r\n            \r\n            factory(count);\r\n        } \r\n        catch (e) {}\r\n    });\r\n};\r\n\r\n/**\r\n * @param {Object} options\r\n */\r\nmodule.exports = function (options) {\r\n    options.counter = options.counter || counter;\r\n    options.click   = options.click   || function () { return true; };\r\n};","/**\r\n * Odnoklassniki service provider\r\n */\r\n\r\nvar config = require('../config'),\r\n    utils  = require('../utils'),\r\n    dom    = require('../dom');\r\n\r\nvar odnoklassniki = {\r\n    counterUrl: config.secure \r\n        ? undefined \r\n        : 'http://connect.ok.ru/dk?st.cmd=extLike&ref={url}&uid={index}',\r\n    counter: function (url, promise) {\r\n        this.promises.push(promise);\r\n        \r\n        dom.getScript(utils.makeUrl(url, {\r\n            index: this.promises.length - 1\r\n        }));\r\n    },\r\n    promises: [],\r\n    popupUrl: 'http://connect.ok.ru/dk?st.cmd=WidgetSharePreview&service=odnoklassniki&st.shareUrl={url}',\r\n    popupWidth: 640,\r\n    popupHeight: 400\r\n};\r\n\r\nutils.set(window, 'ODKL.updateCount', function (index, counter) {\r\n    odnoklassniki.promises[index](counter);\r\n});\r\n\r\nmodule.exports = odnoklassniki;","/**\r\n * Vkontakte service provider\r\n */\r\n\r\nvar config = require('../config'),\r\n    utils  = require('../utils'),\r\n    dom    = require('../dom');\r\n\r\nvar vkontakte = {\r\n    counterUrl: 'https://vk.com/share.php?act=count&url={url}&index={index}',\r\n    counter: function (url, promise) {\r\n        this.promises.push(promise);\r\n        \r\n        dom.getScript(utils.makeUrl(url, {\r\n            index: this.promises.length - 1\r\n        }));\r\n    },\r\n    promises: [],\r\n    popupUrl: config.protocol + '//vk.com/share.php?url={url}&title={title}',\r\n    popupWidth: 550,\r\n    popupHeight: 330\r\n};\r\n\r\nutils.set(window, 'VK.Share.count', function (index, count) {\r\n    vkontakte.promises[index](count);\r\n});\r\n\r\nmodule.exports = vkontakte;\r\n","/**\r\n * Facebook service provider\r\n */\r\n\r\nmodule.exports = {\r\n    counterUrl: 'https://graph.facebook.com/?fields=share,og_object{likes.limit(0).summary(true),comments.limit(0).summary(true)}&id={url}&callback=?',\r\n    convertNumber: function (counter) {\r\n        return counter.share.share_count;\r\n    },\r\n    popupUrl: 'https://www.facebook.com/sharer/sharer.php?u={url}',\r\n    popupWidth: 600,\r\n    popupHeight: 500\r\n};","/**\r\n * Twitter service provider\r\n */\r\n\r\nvar config = require('../config');\r\n\r\nvar twitter = {\r\n    popupUrl: config.protocol + '//twitter.com/intent/tweet?url={url}&text={title}',\r\n    popupWidth: 600,\r\n    popupHeight: 450,\r\n    click: function () {\r\n        if (!/[\\.\\?:\\-–—]\\s*$/.test(this.options.title)) {\r\n            this.options.title += ':';\r\n        }\r\n\r\n        return true;\r\n    }\r\n};\r\n\r\nmodule.exports = twitter;\r\n","/**\r\n * Google+ service provider\r\n */\r\n\r\nvar config = require('../config'),\r\n    utils  = require('../utils'),\r\n    dom    = require('../dom');\r\n\r\nvar gplus = {\r\n    gid: 0,\r\n    promises: {},\r\n    popupUrl: 'https://plus.google.com/share?url={url}',\r\n    popupWidth: 700,\r\n    popupHeight: 500\r\n};\r\n\r\nmodule.exports = gplus;","/**\r\n * Pocket service provider\r\n */\r\n\r\nvar config = require('../config');\r\n\r\nvar pocket = {\r\n    popupUrl: config.protocol + '//getpocket.com/save?url={url}&format=json&callback=?',\r\n    popupWidth: 600,\r\n    popupHeight: 300\r\n};\r\n\r\nmodule.exports = pocket;","/**\r\n * Telegram service provider\r\n */\r\n\r\nmodule.exports = {\r\n    popupUrl: 'tg://msg?text={title}%0A{url}',\r\n    popupWidth: 600,\r\n    popupHeight: 450\r\n};","/**\r\n * WhatsApp service provider\r\n */\r\n\r\nmodule.exports = {\r\n    popupUrl: 'whatsapp://send?text={title}%0A{url}',\r\n    popupWidth: 600,\r\n    popupHeight: 450\r\n};","/**\r\n * Viber service provider\r\n */\r\n\r\nmodule.exports = {\r\n    popupUrl: 'viber://forward?text={title}%0A{url}',\r\n    popupWidth: 600,\r\n    popupHeight: 450\r\n};","/**\r\n * E-mail service provider\r\n */\r\n\r\nvar config = require('../config');\r\n\r\nvar email = {\r\n    popupUrl: 'mailto:?subject={title}&body={url}',\r\n    popupWidth: 0,\r\n    popupHeight: 0\r\n};\r\n\r\nmodule.exports = email;","var config = require('../config');\r\n\r\nmodule.exports = {\r\n\tparent: config.name,\r\n    className: config.name + '--expanded'\r\n};","var services = require('./services'),\r\n    Factory  = require('./factory'),\r\n    utils    = require('./utils'),\r\n    dom      = require('./dom');\r\n\r\nvar factories = {};\r\n\r\n/**\r\n * Fetch data\r\n *\r\n * @param {String} service\r\n * @param {String} url\r\n * @param {Object} options\r\n * @return {Promise}\r\n */\r\nmodule.exports = function (service, url, options) {\r\n    if (!factories[service]) {\r\n        factories[service] = {};\r\n    }\r\n\r\n    var counters = factories[service],\r\n        counter  = counters[url];\r\n\r\n    if (!options.forceUpdate && counter) {\r\n        return counter;\r\n    }\r\n\r\n    counter = Factory();\r\n\r\n    var href = utils.makeUrl(options.counterUrl, {\r\n        url: url\r\n    });\r\n\r\n    services[service].counter(href, counter, url);\r\n\r\n    counters[url] = counter;\r\n\r\n    return counters[url];\r\n};","/**\r\n * Factory function\r\n * \r\n * This function returns function with following API:\r\n * \r\n * - if passed argument is callback, then this callback would be callled\r\n *   if the value was changed\r\n * - if passed argument is anything but undefined or function, then this \r\n *   function behaves like setter\r\n * - if argument isn't provided, then return value stored in closure\r\n * \r\n * @param {Object} value\r\n * @return {Function}\r\n */\r\nmodule.exports = function (value) {\r\n    var listeners = [];\r\n    \r\n    return function (argument) {\r\n        var type = typeof argument;\r\n        \r\n        if (type == 'undefined') {\r\n            return value;\r\n        }\r\n        else if (type == 'function') {\r\n            listeners.push(argument);\r\n        }\r\n        else {\r\n            value = argument;\r\n            \r\n            listeners.forEach(function (listener) {\r\n                listener(argument);\r\n            });\r\n        }\r\n    };\r\n};"],"sourceRoot":""}